<!DOCTYPE html>
<html>
<head>
    <meta charset='utf-8' />
    <title></title>
    <meta name='viewport' content='initial-scale=1,maximum-scale=1,user-scalable=no' />
    <script src='https://api.tiles.mapbox.com/mapbox-gl-js/v0.12.0/mapbox-gl.js'></script>
    <link href='https://api.tiles.mapbox.com/mapbox-gl-js/v0.12.0/mapbox-gl.css' rel='stylesheet' />

    <!-- Bootstrap -->
    <!-- Latest compiled and minified CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css">

<!--     <link rel="stylesheet" href="_css/main.css">
 -->
    <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>

    <!-- Bootstrap -->    
    <!-- Include all compiled plugins (below), or include individual files as needed -->
    <!-- Latest compiled and minified JavaScript -->
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js"></script>

    <script src="https://use.typekit.net/bwy0xzf.js"></script>
	<script>try{Typekit.load({ async: true });}catch(e){}</script>

    <style>
	    html, body, div, span, applet, object, iframe,
		h1, h2, h3, h4, h5, h6, p, blockquote, pre,
		a, abbr, acronym, address, big, cite, code,
		del, dfn, em, font, img, input, ins, kbd, q, s, samp,
		small, strike, strong, sub, sup, tt, var,
		b, u, i, center,
		dl, dt, dd, ol, ul, li,
		fieldset, form, label, legend,
		table, caption, tbody, tfoot, thead, tr, th, td {
		    margin: 0;
		    padding: 0;
		    font-weight: normal;
		    text-decoration:none;
		    color:inherit;
		    list-style: none;
		    -webkit-font-smoothing: antialiased;
		    -moz-osx-font-smoothing: grayscale;
		}
		
		* {
		    -webkit-border-radius: 0 !important;
     	    -moz-border-radius: 0 !important;
		    border-radius: 0 !important;
		}

        body { margin:0; padding:0; }
        #map { position:absolute; top:0; bottom:0; width:100%; }
        .panel-default { position:absolute; width:240px; margin-left:30px; margin-top:30px; }
        .panel-heading h4 { font-family: "clarendon-urw-extra-narrow"; font-weight: 700; }
        .panel-subheading { font-family: "clarendon-urw-extra-narrow"; font-weight: 400; margin-bottom: 8px; }
        .panel-body { padding-left: 0; padding-right: 0; }
        .panel-body h6, .panel-body p { padding-left: 15px; }
        .btn-3 { width: 100%; }
        .btn-3 .btn-default { 
        	width: 80px; 
        	margin: auto; 
        	border: none; 
        	background-color: #eee; 
        	margin-left: 0px; 
        	font-family: "proxima-nova",sans-serif;
			font-style: normal;
			font-weight: 300;
			font-size: 0.9em;
        }
        .btn-3 .btn-default:hover { background-color: #ddd; }

        /*.item { margin-bottom: 1px; height: 40px; background-color: #333; color: white; font-family: sans-serif; }*/
/*        .item :hover { background-color: #555; }
*/
    </style>
</head>
<body>

<div id='map'></div>

<div class="panel panel-default">
	<!-- Default panel contents -->
	<div class="panel-heading"><h4>SEEP CITY</h4></div>
	<div class="panel-body">
		<p>Expore the map using the controls below.</p>
	</div>

	<ul class="list-group">
	    <li class="list-group-item">HISTORICAL MAP</li>
	    <li class="list-group-item">SPRINGS</li>
	    <li class="list-group-item">HISTORICAL SHORELINE</li>
	</ul>

	<div class="panel-body">
		<h6 class="panel-subheading">Historical maps</h6>
		<div class="btn-group btn-3" role="group" aria-label="...">
		  <button type="button" class="btn btn-default">1852</button>
		  <button type="button" class="btn btn-default">1857</button>
		  <button type="button" class="btn btn-default">1869</button>
		</div>
	</div>
	
</div>

<script>
mapboxgl.accessToken = 'pk.eyJ1IjoiaXdzc3R1YXJ0IiwiYSI6InNaNzMzVXMifQ.OFDL1zM5OjRUHcL_Y5htCA';
var map = new mapboxgl.Map({
    container: 'map', // container id
    style: 'mapbox://styles/iwsstuart/cihwgul0a00kb95lyu8x6dn1q', //stylesheet location
    // center: [-74.50, 40], // starting position
    // zoom: 9 // starting zoom
});

map.on('style.load', function() {
  // map.addSource("1857_shore", {
  //   "type": "geojson",
  //   "data": '1857.geojson'
  // });
  // map.addSource("springs", {
  //   "type": "geojson",
  //   "data": 'springs.geojson'
  // });

  // map.addSource("contours", {
  //   "type": "geojson",
  //   "data": 'contours.geojson'
  // });
  // map.addLayer({
  //   "id": "contours",
  //   "type": "line",
  //   "source": "contours",
  //   "layout": {
  //       "line-join": "round",
  //       "line-cap": "round"
  //   },
  //   "paint": {
  //       "line-color": "#ad4a36",
  //       "line-opacity": 0.5,
  //       "line-width": {
  //       	"base": 1,
  //     		"stops": [[11, 0], [18, 1.5]]
  //       }
  //   }
  // }, 'mapbox-iwsstuart-44ys0zp4');

  map.addSource("contours_simple", {
    "type": "geojson",
    "data": 'contours_simple.geojson'
  });
  map.addLayer({
    "id": "contours_simple",
    "type": "line",
    "source": "contours_simple",
    "layout": {
        "line-join": "round",
        "line-cap": "round"
    },
    "paint": {
        "line-color": "#ad4a36",
        "line-opacity": {
        	"base": 0.5,
      		"stops": [[10, 0.2], [14, 0.6]]
        },
        "line-width": {
        	"base": 1,
      		"stops": [[10, 0.1], [13.9, 0.2], [14, 0]]
        }
    }
  }, 'mapbox-iwsstuart-44ys0zp4');

  // map.addLayer({
  //   "id": "1857_shore",
  //   "type": "line",
  //   "source": "1857_shore",
  //   "layout": {
  //       "line-join": "round",
  //       "line-cap": "round"
  //   },
  //   "paint": {
  //       "line-color": "#888",
  //       "line-width": 4
  //   }
  // });

	// map.setLayerZoomRange('contours', 11, 22);

	$('.item-1').click(function() {
		if ($(this).hasClass('off')) {
			map.setLayoutProperty('mapbox-iwsstuart-44ys0zp4', 'visibility', 'visible');
			$(this).toggleClass('off');	
		} else {
			map.setLayoutProperty('mapbox-iwsstuart-44ys0zp4', 'visibility', 'none');
			$(this).toggleClass('off');			
		}
	});

	$('.item-2').click(function() {
		if ($(this).hasClass('off')) {
			map.setLayoutProperty('springs', 'visibility', 'visible');
			$(this).toggleClass('off');	
		} else {
			map.setLayoutProperty('springs', 'visibility', 'none');
			$(this).toggleClass('off');			
		}
	});

	$('.item-3').click(function() {
		if ($(this).hasClass('off')) {
			map.setLayoutProperty('1857', 'visibility', 'visible');
			$(this).toggleClass('off');	
		} else {
			map.setLayoutProperty('1857', 'visibility', 'none');
			$(this).toggleClass('off');			
		}
	});

});

// $(document).ready(function() {	
// 	$('.item-1').click(function() {
// 		map.removeSource("T00687");
// 	});
// });


</script>

</body>
</html>